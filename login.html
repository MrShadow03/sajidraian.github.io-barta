<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BARTA Login</title>
  <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="login-page">
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
    <span class="theme-icon" id="themeIcon">ðŸŒ™</span>
  </button>
  
  <main class="login-panel">
    <div class="login-brand">
      <i class="las la-comments brand-icon" style="font-size: 40px;"></i>
      <h2>BARTA</h2>
    </div>

    <h3 class="login-title">Sign in to BARTA</h3>
    <p class="login-desc">Enter your phone number to continue</p>

    <label class="field">
      <select class="input input-select" aria-label="Select country">
        <option selected disabled>select a country</option>
        <option>Bangladesh (+880)</option>
        <option>India (+91)</option>
        <option>USA (+1)</option>
        <option>UK (+44)</option>
      </select>
    </label>

    <label class="field">
      <input class="input" type="tel" placeholder="Enter your phone number" id="phone" aria-label="Phone number" autocomplete="tel" />
    </label>

    <div class="actions">
      <button id="loginBtn" class="btn btn-primary">Continue</button>
      <a class="btn btn-ghost" href="chat.html">Or browse chats</a>
    </div>

    <p class="small">or scan QR from your mobile app to login</p>
  </main>

  <script>
    // Sound Effects System
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    function playSound(type) {
      const oscillator = audioCtx.createOscillator();
      const gainNode = audioCtx.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioCtx.destination);
      
      if (type === 'click') {
        oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
        gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
        oscillator.start(audioCtx.currentTime);
        oscillator.stop(audioCtx.currentTime + 0.1);
      } else if (type === 'error') {
        oscillator.frequency.setValueAtTime(300, audioCtx.currentTime);
        gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
        oscillator.start(audioCtx.currentTime);
        oscillator.stop(audioCtx.currentTime + 0.2);
      } else if (type === 'success') {
        oscillator.frequency.setValueAtTime(600, audioCtx.currentTime);
        oscillator.frequency.setValueAtTime(800, audioCtx.currentTime + 0.05);
        oscillator.frequency.setValueAtTime(1000, audioCtx.currentTime + 0.1);
        gainNode.gain.setValueAtTime(0.08, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
        oscillator.start(audioCtx.currentTime);
        oscillator.stop(audioCtx.currentTime + 0.2);
      } else if (type === 'toggle') {
        oscillator.frequency.setValueAtTime(600, audioCtx.currentTime);
        oscillator.frequency.setValueAtTime(900, audioCtx.currentTime + 0.05);
        gainNode.gain.setValueAtTime(0.08, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
        oscillator.start(audioCtx.currentTime);
        oscillator.stop(audioCtx.currentTime + 0.15);
      }
    }
    
    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const html = document.documentElement;
    
    // Load saved theme or default to dark
    const savedTheme = localStorage.getItem('theme') || 'dark';
    html.setAttribute('data-theme', savedTheme);
    themeIcon.innerHTML = savedTheme === 'light' ? '<i class="las la-moon"></i>' : '<i class="las la-sun"></i>';
    
    themeToggle.addEventListener('click', () => {
      playSound('toggle');
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      themeIcon.innerHTML = newTheme === 'light' ? '<i class="las la-moon"></i>' : '<i class="las la-sun"></i>';
    });
    
    // Login functionality
    const loginBtn = document.getElementById('loginBtn');
    const phoneInput = document.getElementById('phone');
    const selectInput = document.querySelector('.input-select');

    loginBtn.addEventListener('click', () => {
      const phone = phoneInput.value.trim();
      const country = selectInput.value;
      
      // Clear previous error states
      phoneInput.style.borderColor = '';
      selectInput.style.borderColor = '';
      
      if (country === 'select a country') {
        selectInput.style.borderColor = '#ff4444';
        selectInput.focus();
        playSound('error');
        showToast('Please select a country');
        return;
      }
      
      if (!phone) {
        phoneInput.style.borderColor = '#ff4444';
        phoneInput.focus();
        playSound('error');
        showToast('Please enter your phone number');
        return;
      }
      
      if (phone.length < 5) {
        phoneInput.style.borderColor = '#ff4444';
        phoneInput.focus();
        playSound('error');
        showToast('Please enter a valid phone number');
        return;
      }
      
      // Show loading state
      playSound('success');
      loginBtn.disabled = true;
      loginBtn.textContent = 'Connecting...';
      loginBtn.style.opacity = '0.6';
      loginBtn.style.cursor = 'not-allowed';
      
      // Simulate login
      setTimeout(() => {
        window.location.href = 'chat.html';
      }, 800);
    });
    
    // Toast notification function
    function showToast(message) {
      const toast = document.createElement('div');
      toast.textContent = message;
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ff4444, #cc0000);
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 10000;
        font-size: 14px;
        animation: slideIn 0.3s ease;
      `;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }
    
    // Add animation styles
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(400px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(400px); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
    
    // Enable Enter key
    phoneInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') loginBtn.click();
    });
  </script>
</body>
</html>
